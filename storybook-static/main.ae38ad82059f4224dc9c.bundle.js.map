{"version":3,"file":"main.ae38ad82059f4224dc9c.bundle.js","sources":["webpack:///./src/components/piespinner.jsx"],"sourcesContent":["//-----------------------------------------------------------------------\r\n// <copyright company=\"Microsoft Corporation\">\r\n//        Copyright (c) Microsoft Corporation.  All rights reserved.\r\n// </copyright>\r\n//-----------------------------------------------------------------------\r\n\r\nimport pick from \"lodash/pick\";\r\nimport React from \"react\";\r\nimport AnimatedNumber from \"react-animated-number\";\r\nimport { pure } from \"recompose\";\r\nimport styled, { css, keyframes } from \"styled-components\";\r\nimport \"../App.css\";\r\n\r\nconst OutlineCorrection = \"2px\";\r\n\r\nexport const PieSpinner = pure(props => (\r\n  <Layout>\r\n    <CircleBackground {...pick(props, \"backgroundColor\", \"height\", \"width\")} />\r\n    <PieWrapper {...pick(props, \"height\", \"width\")}>\r\n      <Spinner\r\n        {...pick(props, \"backgroundColor\", \"border\", \"duration\", \"isInfinite\")}\r\n      />\r\n      <Filler\r\n        {...pick(props, \"backgroundColor\", \"border\", \"duration\", \"isInfinite\")}\r\n      />\r\n      <Mask\r\n        {...pick(\r\n          props,\r\n          \"backgroundColor\",\r\n          \"duration\",\r\n          \"isInfinite\",\r\n          \"height\",\r\n          \"width\"\r\n        )}\r\n      />\r\n    </PieWrapper>\r\n    <StyledAnimatedNumber\r\n      component=\"text\"\r\n      initialValue={0}\r\n      value={100}\r\n      formatValue={n => percentage(n)}\r\n      stepPrecision={0}\r\n      {...pick(props, \"color\", \"duration\", \"fontSize\")}\r\n    />\r\n  </Layout>\r\n));\r\nconst Layout = styled.div`\r\n  width: ${props => props.width};\r\n  height: ${props => props.height};\r\n  display: grid;\r\n  grid-template-rows: 1fr;\r\n  grid-template-columns: 1fr;\r\n  align-items: center;\r\n  justify-items: center;\r\n`;\r\n\r\nconst FullGridMixin = css`\r\n  grid-row: 1 / last-line;\r\n  grid-column: 1 / last-line;\r\n`;\r\n\r\nconst AnimationInfiniteMixin = css`\r\n  animation-iteration-count: ${props => (props.isInfinite ? \"infinite\" : 1)};\r\n  animation-fill-mode: ${props => (props.isInfinite ? \"none\" : \"forwards\")};\r\n`;\r\n\r\nconst CircleBackground = styled.div`\r\n  background: ${props => props.backgroundColor};\r\n  border-radius: 50%;\r\n  width: calc(${props => props.width} - ${OutlineCorrection});\r\n  height: calc(${props => props.height} - ${OutlineCorrection});\r\n  ${FullGridMixin};\r\n`;\r\n\r\nconst Pie = styled.div`\r\n  width: 50%;\r\n  height: 100%;\r\n  transform-origin: 100% 50%;\r\n  background: ${props => props.backgroundColor};\r\n  border: ${props => props.border};\r\n  ${FullGridMixin};\r\n`;\r\n\r\nconst RotateAnimation = keyframes`\r\n    0% {\r\n        transform: rotate(0deg);\r\n    }\r\n    100% {\r\n        transform: rotate(360deg);\r\n    }\r\n`;\r\n\r\nconst OpacityAnimation = keyframes`\r\n    0% {\r\n        opacity: 1;\r\n    }\r\n    50%,\r\n    100% {\r\n        opacity: 0;\r\n    }\r\n`;\r\n\r\nconst Spinner = styled(Pie)`\r\n  border-radius: 100% 0 0 100% / 50% 0 0 50%;\r\n  z-index: 3;\r\n  border-right: none;\r\n  animation: ${RotateAnimation} ${props => props.duration}ms linear;\r\n  ${AnimationInfiniteMixin};\r\n`;\r\n\r\nconst Filler = styled(Pie)`\r\n  border-radius: 0 100% 100% 0 / 0 50% 50% 0;\r\n  justify-self: end;\r\n  opacity: 0;\r\n  z-index: 2;\r\n  animation: ${OpacityAnimation} ${props => props.duration}ms steps(1, end)\r\n    reverse;\r\n  border-left: none;\r\n  ${AnimationInfiniteMixin};\r\n`;\r\n\r\nconst Mask = styled.div`\r\n  width: calc(${props => props.width} - ${OutlineCorrection});\r\n  height: calc(${props => props.height} - ${OutlineCorrection});\r\n  clip-path: polygon(0 0, 50% 0, 50% 100%, 0 100%);\r\n  background: ${props => props.backgroundColor};\r\n  align-self: center;\r\n  justify-self: center;\r\n  border-radius: 50%;\r\n  opacity: 1;\r\n  z-index: 4;\r\n  animation: ${OpacityAnimation} ${props => props.duration}ms steps(1, end);\r\n  ${FullGridMixin};\r\n  ${AnimationInfiniteMixin};\r\n`;\r\n\r\nconst PieWrapper = styled.div`\r\n  display: grid;\r\n  z-index: 1;\r\n  width: ${props => props.width};\r\n  height: ${props => props.height};\r\n  ${FullGridMixin};\r\n`;\r\n\r\nconst StyledAnimatedNumber = styled(AnimatedNumber)`\r\n  font-size: ${props => props.fontSize};\r\n  font-weight: 700;\r\n  z-index: 5;\r\n  color: ${props => props.color};\r\n  ${FullGridMixin};\r\n`;\r\n\r\nconst percentage = n => {\r\n  return `${n}%`;\r\n};\r\n"],"mappings":"AAaA","sourceRoot":""}